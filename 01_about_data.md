# 데이터 알아보기

## 1. 데이터 속성
속성 타입 종류
- Nominal (명목형)
- Binary (이진형)
- Ordinal (순서형)
- Numeric (수치형)

### 1.1. 명목형 (정성적 요소를 나타냄)
- 이름을 지니는 카테고리
- **상태가 가능한 값**이 됨.
- ex. 결혼 상태={기혼,미혼}, 직업, 주민등록번호, 우편번호 ...

### 1.2. 이진형 (정성적 요소를 나타냄)
- **두가지 상태(0 or 1)만**을 지니는 **명목형 변수에 속함**.
- **대칭 이진형(symmetric binary)**: 가능한 두 값이 동등하게 중요할 경우 (ex. 성별 남 or 녀).
- **비대칭 이진형(asymmetric binary)**: 가능한 두 값의 중요도가 동등하지 않을 경우 (ex. 질병 양성 > 음성).
- convention : 비대칭 이진형에서 더 중요한 값에 1을 할당하는 것

### 1.3. 순서형 (정성적 요소를 나타냄)
- 순서형 역시 **명목형에 속함**.
- 값들이 순서를 지니지만 연속된 값 사이의 크기가 알려져 있지 않은 경우
- ex. 크기{소, 중, 대}, 학점

### 1.4. 수치형 (정량적 값을 나타냄)
- 정수 또는 실수의 정량적인 값을 나타냄.
- **간격 척도**
    - **동등한 크기를 지니는 단위**의 척도에 따라 측정된 값
    - 순서를 지니지만, 진정한 의미의 **영점이 없음**.
    - ex. 상대 온도(C), 날짜
- **비율 척도**
    - **영점을 지니는** 수치형 속성
    - 측정 단위에 따라 값들이 얼마나 크고 작은지 나타낼 수 있음.
    - 값을 비교할 때, **"몇배 크다/작다"** 라고 상대적으로 얘기할 수 있음.
    - ex. 절대 온도, 길이, 카운트

### 1.5. 이산형 속성과 연속형 속성

#### 1.5.1. 이산형 속성
- **유한**하거나 **셀 수 있는 수**의 집합을 값으로 지님.
- **경우에 따라 수치형 속성의 값(정수형 값)으로 바꾸어** 표현 가능
- ex. 우편번호, 직업, 문서 내 나타내는 단어의 집합
#### 1.5.2. 연속형 속성
- **실수**를 속성 값으로 지님
- 예. 온도, 키, 몸무게
- **수치형 속성과 연속형 속성은 유사한 의미를 지님 (상호교환).**

----

## 2. 기본적인 통계 용어
- 확률 변수 (Random variable): 실험 결과에 수치를 할당하는 함수
- 관측 (Observation): 실험을 통해 얻게 된 데이터 포인트
- 모집단 (Population): 관심의 대상이 되는 집단으로, 모든 가능한 관측 값을 포함
- 표본 (Sample): 모집단에서 선택된 한정된 수의 관측들의 집합
- 모수 또는 모집단 통계량 (Population parameters): 모집단의 특성을 나타내는 수치로, 모집단 전체를 요약하는 값 (평균, 표준편차 etc..)
- **표본 통계량 (Sample statistics)**: 표본으로부터 계산된 수치이며, 모집단 통계량의 추정치로 사용
    - 표본 통계량의 목적1. 표본의 특징을 **요약**
    - 모집단의 모수를 **추정**

----

## 3. 기술 통계
- 데이터 집합의 주요 특성을 요약하고 설명하는 통계 기법
- 데이터를 잘 이해하기 위해, 일부 수치를 뽑아냄.

### 3.1. 기술통계의 주요 요소
- 중심성 (central tendency): 데이터 집합의 중심을 나타내는 지표
- 산포도 (Dispersion): 데이터 값이 얼마나 퍼져 있는지 나타내는 지표
- 왜도와 첨도 (Skewness & Kurtosis): 데이터 집합의 **비대칭성**과 **뾰족한 정도**를 나타내는 지표
- 빈도: 데이터 값의 횟수
- 상관 관계: 변수 간 관계

### 3.2. 중심성
데이터 집합의 중심을 나타내는 지표
- 평균(mean)
- 중앙값(median)
- 최빈값(mode)
~~~
아래 표를 보고
평균, 중앙값, 최빈값을 구하시오.
~~~
![01_14](/data_science_img/01_14.PNG)

### 3.3. Symmetric 분포 vs Skewed 분포
- 균형 잡힌(Symmetric) 분포: 확률질량함수 혹은 확률밀도함수를 그렸을 때, 봉우리가 치우치지 않은 분포
- 기울어진(skewed) 분포
    - positively skewed 분포: **최빈값이 왼쪽**에 위치, **양의 방향으로 꼬리**가 김
    - negatively skewed 분포: **최빈값이 오른쪽**에 위치, **음의 방향으로 꼬리**가 김
#### 3.3.1. 최빈값(mode), 중앙값(median), 평균(mean) 크기 비교
- positively skewed (**mode < median < mean**)
- symmetric (**mode = median = mean**)
- negatively skewed (**mode > median > mean**)

### 3.4. 산포도
데이터 값이 얼마나 퍼져있는지 나타내는 지표
- 분산
- 표준편차
- 범위
- IQR

### 3.5. 데이터 요약
- Five number summary: 다섯개 숫자(최소값, Q1, 중앙값 Q2, Q3, 최대값)
- Boxplot: Five number summary 기반 시각화 방법

### 3.6. 상관관계
- 두 변수 간 관계의 강도와 방향을 나타냄.
- 두 데이터 속성이 얼마나 연관되어 있는지 수치 값으로 이해 가능

#### 3.6.1. 피어슨 상관 계수, 스피어만 순위 상관 계수

- 피어슨 상관 계수: **연속형 변수 간 선형 관계의 강도** 측정
- 스피어만 순위 상관 계수: 두 변수의 **순위 사이의 관계**를 측정

두 계수 모두 -1 ~ +1 사이 값을 지님.  
+1은 완벽한 양의 상관 관계를 나타냄.  
0은 두 변수간 상관관계가 없음을 나타냄.  
-1은 완벽한 음의 상관 관계를 나타냄.  

~~~
상관 계수가 인과 관계를 나타내는 것은 아님!
~~~


## 4. 데이터 시각화
### 4.1. 데이터 시각화 방법
- 박스플롯 (Boxplot)
- 히스토그램 (Histogram)
- 바이올린 플롯 (Violin plot)
- 퀀타일 플롯 (Quantaile plot)
- QQ plot (Quantile-quantile plot)
- 산점도 (Scatter plot)
- 평행 좌표 (Parallel coordinates)

### 4.2. 히스토그램 (Histogram)
- 분포를 시각화
- 어떤 범위에서 얼마나 나타나는지 보여줌.
- 데이터의 **형태, 중심성(평균, 중앙값, 최빈값), 퍼진 정도(Symetric/Skewed), 이상치(Outliers) 등**을 한눈에 파악할 수 있음.
- X축: 데이터의 값 범위 (여러 개의 구간 `bin`으로 표현됨)
- Y축: 각 구간(bin)에 속하는 데이터 비율
- 각 막대: 데이터셋의 한 구간에 속하는 데이터의 개수, **빈도**

~~~
바 차트(바 플롯)와 차이점

히스토그램은 X축이 수치형 속성(수치값)으로 표현되는 반면,
바 차트(바 플롯)은 X축이 명목형 속성으로 표현됨.
~~~

### 4.3. 박스플롯 (Boxplot)
- 두개의 히스토그램이 다른 분포를 나타낼 때, 박스플롯으로 표현하면 같은 플롯일 수 있다. -> **박스 플롯보다 히스토그램이 더 많은 정보를 시각화**

### 4.4. 바이올린 플롯 (Violin plot)
- 히스토그램과 박스플롯의 장점을 결합한 시각화 방법

![01_28](/data_science_img/01_28.PNG)

### 4.5. 퀀타일 플롯 (Quantile plot)
- 모든 데이터를 **분위수에 따라** 나타내 **전체적인 데이터의 패턴을 파악**하게 함.
- X축: 데이터 분위수
- Y축: 해당 분위수에 해당하는 값을 Y축에 표현

![01_29](/data_science_img/01_29.PNG)

### 4.6. Quantile-Quantile plot (Q-Q plot)
- **두 가지 데이터 분포를 비교**하기 위해 사용
- 정규 분포 등 이론적인 분포와 실제 데이터 샘플에서 관측된 분포를 비교할 수 있음
- **하나의 데이터셋 내에서 두 속성간의 비교**를 위해서도 사용
- 직선(플롯)에 가까울수록 하나의 분포가 다른 분포를 잘 따른다는 것을 의미
- 플롯에서 **멀리 떨어진 점은 이상치**를 나타냄(더 정확하게는 IQR 검증 필요)

![01_30](/data_science_img/01_30.PNG)

### 4.7. 산점도 (Scatter plot)
- **두 속성 간 관계**를 나타냄
- X축: 하나의 속성
- Y축: 다른 하나의 속성
- 각 점들이 위치한 것을 보고 **속성간 상관 관계, 군집, 이상치 등에 대한 직관**을 얻을 수 있음.

#### 4.7.1. 상관 관계가 있는 경우 산점도
피어슨 상관 계수와 스피어만 순위 상관 계수의 값과 관계가 있음.  

- 양의 상관 관계 : y = x 기울기 방향으로 흩어짐
- 음의 상관 관계 : y = -x 기울기 방향으로 흩어짐

![01_32](/data_science_img/01_32.PNG)

#### 4.7.2. 상관 관계가 없는 경우 산점도

![01_33](/data_science_img/01_33.PNG)

### 4.8. 평행 좌표 (Parallel Coordinates)
- 고차원 데이터를 시각화
- 각 속성을 평행하는 축으로 나타냄.
- 하나의 데이터 포인트는 평행 축들을 연결하는 선으로 표현
- (**min-max 정규화** 같은 정규화를 통해) **값의 범위(scale)를 맞추어 준 후 시각화** 필요함.
- 선의 개수 == 데이터 객체(데이터 포인트) 수
- 장점: 여러 속성 간 관계를 동시에 파악 가능
- 단점: 속성의 수 혹은 데이터 포인트 수가 늘어날수록 그림이 복잡

![01_37](/data_science_img/01_37.PNG)

----

## 5. 데이터의 유사도와 불일치도 측정
### 5.1. 유사도와 불일치도 개념
- 유사도
    - 두 데이터 객체가 얼마나 유사한지에 대한 수치 값
    - **유사할수록 높은 값**
    - 일반적으로 0 ~ 1 사이의 값
- 불일치도
    - 두 데이터 객체가 얼마나 다른지에 대한 수치 값
    - 두 데이터 객체가 다를수록 낮은 값 -> 확인 필요
    - 일반적으로 0이 가장 낮은 불일치도 값 -> 최대값은 계산 방법에 따라 다름
    - **거리(distance)는 수치적 공간 내 불일치도 측정**하는 방법

### 5.2. 데이터 행렬과 불일치도 행렬
- 데이터 행렬
    - 데이터셋을 나타내는 행렬
    - n X p 크기 (n: 데이터 객체 수, p: 데이터 속성 수)
- 불일치도 행렬
    - 데이터 간 불일치도를 나타내는 행렬
    - n x n 크기 (n: 데이터 객체 수)
    - i행 j열 -> i번째 데이터와 j번째 데이터의 불일치도
    - 불일치도를 거리로 사용할 경우, 삼각행렬로 표현가능 (대칭 행렬이기 때문).

### 5.3. 이진형 속성에 대한 유사도 및 거리 측정

데이터 객체 i 와 j에 대해 분할표가 다음과 같이 주어졌을 때  

![01_41_table](/data_science_img/01_41_table.PNG)

분할표를 이용하여 거리 및 유사도는 다음과 같이 계산함.  

![01_41_calc](/data_science_img/01_41_calc.PNG)

#### 5.3.1. Asymmetric(비대칭) 이진형 속성에 대한 거리 계산 예제

![01_42_table](/data_science_img/01_42_table.PNG)

~~~
여기에 Jack mary에 대한 분할표
~~~

![01_42_calc](/data_science_img/01_42_calc.PNG)

### 5.4. 명목형 속성에 대한 유사도 측정
- 두 데이터 객체 i, j가 지니는 **명목형 속성에 대해 매칭되는 속성의 비율**을 계산
- 명목형 속성이 **여러개의 상태**로 나타나는 경우(ex. 색상), 하나의 **명목형 속성을 여러 개의 이진형 속성으로 변환하여 유사도를 측정** 가능

### 5.5. 수치형 속성에 대한 거리 계산
- n개 수치형 속성으로 구성된 데이터 객체간 거리를 계산 -> n 차원 공간내 점
- 공간 내 점간 거리, 혹은 벡터간 거리를 계산하는데 사용되는 방법 활용 가능

#### 5.5.1. 민코프스키 거리
- 맨하탄 거리 (L1-norm)  
    ![01_48_L1](/data_science_img/01_48_L1.PNG)
- 유클리드 거리 (L2-norm)  
    ![01_48_L2](/data_science_img/01_48_L2.PNG)
- 체비쇼프 거리 (Lmax-norm)  
    ![01_48_Lmax](/data_science_img/01_48_Lmax.PNG)
~~~
아래를 참고하여 맨하탄, 유클리드, 쳬비쇼프 거리를 각각 구하시오.
~~~

![01_50_1](/data_science_img/01_50_1.PNG)

각각 계산한 결과는 아래와 같다.  

![01_50_2](/data_science_img/01_50_2.PNG)

### 5.6. 수치형 속성 정규화
여러 속성을 사용해 거리를 계산할 때 정규화 / 표준화 하는 것이 권장됨.  
-> 정규화 / 표준화를 안하면 분산이 큰 속성의 차이가 데이터 객체 간 거리 계산에 큰 영향을 끼치게 됨  

- Z-score (표준화)
    - 데이터 속성 분포의 평균을 0, 표준편차를 1로 변환
    - 𝑋: 변환 대상 속성, 𝜇: 평균, 𝜎: 표준편차
    - 이상치(Outlier)에 민감하지 않지만, 정규 분포를 따르지 않을 경우, 변환 후에도 형태 불안정
    - 위처럼 정규 분포를 따르지 않을 경우, 로그 변환 등 추가 적용이 필요할 수 있음.  
    ![01_51_zscore](/data_science_img/01_51_zscore.PNG)

- Min-max 정규화
    - 데이터를 0과 1 사이의 범위로 변환
    - 장점: 변환된 데이터는 시각화에 적합
    - 단점: 이상치(Outlier)에 민감  
    ![01_51_minmax](/data_science_img/01_51_minmax.PNG)

### 5.7. 순서형 속성에 대한 거리 계산
순서형 속성은 순위(rank)가 중요 -> 간격 척도 기반의 **수치형 속성으로 변환**하여 계산

#### 5.7.1. 계산방법
Step 1. i번째 데이터 객체의 f번째 속성값 x_if를 순위값 r_if로 대체함.  
![01_52_1](/data_science_img/01_52_1.PNG)

Step 2. 속성값을 [0,1] 범위의 변수로 변환함.  
![01_52_2](/data_science_img/01_52_2.PNG)

Step 3. 거리를 계산함.  
![01_52_2](/data_science_img/01_52_2.PNG)